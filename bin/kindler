#!/usr/bin/env ruby
require 'rubygems'
require 'optparse'
require 'open-uri'
require File.dirname(__FILE__) + "/../lib/kindler"
# get options
options = {:title=>'kindler_ebook',:urls=>ARGV}
option_parser = OptionParser.new do |opts|
	opts.banner = "Usage kindler url1 url2 url3 [-t my_book] [-d]"

	opts.on("-d",'--debug','show debug infos') do |d|
		options[:debug] = d
	end

	opts.on("-t",'--title','title of book') do |t|
		options[:title] = t
	end

	opts.on_tail('-h','--help','show this message') do
		puts opts
		exit
	end
	
end

exit unless ARGV.length > 0
book = Kindler::Book.new(options)
book.generate

